
import sma.system.agents.logging.interfaces.ILog

import components.agent.ecoRobot.EcoRobot

import components.agent.logging.Logging

import sma.common.pojo.Position

import sma.common.pojo.Colors

import components.environment.Environment

import sma.system.environment.services.interfaces.IInteraction

import sma.system.environment.services.interfaces.IPerception

import sma.system.agents.ecoRobotLogged.interfaces.IAgentManagement

import sma.system.agents.ecoRobot.interfaces.IExecute
import sma.system.agents.ecoRobot.interfaces.IRobotStatus

namespace components.agent.ecoRobotLogged {
	ecosystem EcoRobotLogged {
		provides agentManagementService: IAgentManagement
		provides elog: ILog
		requires envLocalInteraction: IInteraction
		requires envLocalPerception: IPerception
		part l: Logging
		part b: EcoRobot {
			bind elog to elog
			bind envLocalInteraction to envLocalInteraction
			bind envLocalPerception to envLocalPerception
		}

		species RobotLogged(name: String, maxEnergie: float, couleur: Colors,
		positionInitiale: Position) {
			use ll: l.Logger(name)
			use ba: b.Robot(maxEnergie, couleur, positionInitiale) {
				bind log to ll.log
			}

			provides execute: IExecute = ba.execute
			provides status: IRobotStatus = ba.status
		}
	}
}
